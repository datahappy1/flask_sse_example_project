<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Flask SSE</title>
</head>
<body>

<a id="1" href="{{ url_for('root', id=1) }}" target="_blank">SSE id 1</a>
<a id="2" href="{{ url_for('root', id=2) }}" target="_blank">SSE id 2</a>

<div id="target_div">Watch this space...</div>

<script type="text/javascript">
var targetContainer = document.getElementById("target_div");
var myParam = location.search.split('id=')[1]

var eventSource = new EventSource("/stream/"+myParam)
  eventSource.onmessage = function(e) {
  targetContainer.innerHTML = e.data;
};</script>


</body>
</html>